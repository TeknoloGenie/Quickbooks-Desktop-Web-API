"use strict";angular.module("cnsSteelSales",["ngAnimate","ngCookies","ngResource","ngMessages","ngStorage","ui.router","ngSanitize","ngMaterial","lbServices","md.data.table","ls.LiveSet","ls.ChangeStream","ngNotificationsBar"]).constant("APP",{apiUrl:"http://192.168.0.6:3000/api"}).config(["$stateProvider","$urlRouterProvider","LoopBackResourceProvider","$httpProvider","APP","notificationsConfigProvider","$locationProvider","$sceDelegateProvider",function(e,t,r,s,o,a,d,i){r.setAuthHeader("X-Access-Token"),r.setUrlBase(o.apiUrl),i.resourceUrlWhitelist(["self"]),s.defaults.useXDomain=!0,delete s.defaults.headers.common["X-Requested-With"],s.interceptors.push(["$q","$injector","$rootScope","LoopBackAuth","notifications",function(e,t,r,s,o){return a.setAutoHide(!0),a.setHideDelay(3e3),{request:function(e){return"POST"!=e.method&&"UPDATE"!=e.method&&"PUT"!=e.method||(e.data.syncToQB=!0),e},responseError:function(a){if(401==a.status){s.clearUser(),s.clearStorage(),o.showError({message:a.data.error.message});var d=t.get("$state");r.nextAfterLogin=d.current.name,d.go("root.login")}if(422==a.status&&a.data.error.details)for(var i in a.data.error.details.messages)a.data.error.details.messages.hasOwnProperty(i)&&a.data.error.details.messages[i].forEach(function(e){o.showError({message:e})});return e.reject(a)}}}]),e.state("root",{url:"",templateUrl:"views/root.html",controller:"RootCtrl"}).state("404",{url:"/404",templateUrl:"404.html"}).state("root.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("root.app",{url:"/app","abstract":!0,templateUrl:"views/app/application.html",controller:"ApplicationCtrl",authenticate:!0,resolve:{currentEmployee:["AuthService",function(e){return e.getCurrentEmployee()}]}}).state("root.app.dashboard",{url:"/dashboard",templateUrl:"views/app/dashboard.html",controller:"DashboardCtrl",authenticate:!0}).state("root.app.customers",{url:"/customers",templateUrl:"views/app/customers.html",controller:"CustomersCtrl",authenticate:!0}).state("root.app.customer",{url:"/customer/:id/:ListID",templateUrl:"views/app/partials/customer.html",controller:"CustomerController",authenticate:!0}).state("root.app.estimates",{url:"/estimates",templateUrl:"views/app/estimates.html",controller:"EstimatesCtrl",authenticate:!0}).state("root.app.estimate",{url:"/estimate/:id/:TxnID",templateUrl:"views/app/partials/estimate.html",controller:"EstimateWrapController",authenticate:!0}).state("root.app.items",{url:"/items","abstract":!0,templateUrl:"views/app/items.html",controller:"ItemsCtrl",authenticate:!0}).state("root.app.items.nonInventory",{url:"/non-inventory",templateUrl:"views/app/items/non-inventory.html",controller:"ItemsNonInventoryCtrl",authenticate:!0}).state("root.app.items.inventory",{url:"/inventory",templateUrl:"views/app/items/inventory.html",controller:"ItemsInventoryCtrl",authenticate:!0}).state("root.app.salesOrders",{url:"/sales-orders",templateUrl:"views/app/sales-orders.html",controller:"SalesOrdersCtrl",authenticate:!0}).state("root.app.salesOrder",{url:"/salesOrder/:id/:TxnID",templateUrl:"views/app/partials/sales-order.html",controller:"SalesOrderWrapController",authenticate:!0}),t.otherwise("/404")}]).run(["QuickBooks","$rootScope","AuthService","$state","APP",function(e,t,r,s,o){t.APP=o,t.$on("$stateChangeStart",function(e,t,o,a){t.authenticate&&(r.isAuthenticated()||s.go("root.login"))}),r.isAuthenticated()?t.currentEmployee=r.getCurrentEmployee()&&s.go("root.app.dashboard"):s.go("root.login")}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="lbServices"),function(e,t,r){function s(e){var t=e.match(/^(?:https?:)?\/\/([^\/]+)/);return t?t[1]:null}var o="http://0.0.0.0:3000/api",a="authorization",d=s(o)||location.host,i=t.module("lbServices",["ngResource"]);i.factory("Employee",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Employees/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:o+"/Employees/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:o+"/Employees/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:o+"/Employees/:id/accessTokens/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:o+"/Employees/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:o+"/Employees/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:o+"/Employees/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:o+"/Employees/:id/accessTokens/count",method:"GET"},create:{url:o+"/Employees",method:"POST"},createMany:{isArray:!0,url:o+"/Employees",method:"POST"},upsert:{url:o+"/Employees",method:"PUT"},replaceOrCreate:{url:o+"/Employees/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Employees/upsertWithWhere",method:"POST"},exists:{url:o+"/Employees/:id/exists",method:"GET"},findById:{url:o+"/Employees/:id",method:"GET"},replaceById:{url:o+"/Employees/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Employees",method:"GET"},findOne:{url:o+"/Employees/findOne",method:"GET"},updateAll:{url:o+"/Employees/update",method:"POST"},deleteById:{url:o+"/Employees/:id",method:"DELETE"},count:{url:o+"/Employees/count",method:"GET"},prototype$updateAttributes:{url:o+"/Employees/:id",method:"PUT"},createChangeStream:{url:o+"/Employees/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(e){var r=e.data;return t.setUser(r.id,r.userId,r.user),t.rememberMe=e.config.params.rememberMe!==!1,t.save(),e.resource}},url:o+"/Employees/login",method:"POST"},logout:{interceptor:{response:function(e){return t.clearUser(),t.clearStorage(),e.resource}},url:o+"/Employees/logout",method:"POST"},confirm:{url:o+"/Employees/confirm",method:"GET"},resetPassword:{url:o+"/Employees/reset",method:"POST"},getCurrent:{url:o+"/Employees/:id",method:"GET",params:{id:function(){var e=t.currentUserId;return null==e&&(e="__anonymous__"),e}},interceptor:{response:function(e){return t.currentUserData=e.data,e.resource}},__isGetCurrentUser__:!0}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.getCachedCurrent=function(){var e=t.currentUserData;return e?new s(e):null},s.isAuthenticated=function(){return null!=this.getCurrentId()},s.getCurrentId=function(){return t.currentUserId},s.modelName="Employee",s}]),i.factory("Estimate",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Estimates/:id",{id:"@id"},{create:{url:o+"/Estimates",method:"POST"},createMany:{isArray:!0,url:o+"/Estimates",method:"POST"},upsert:{url:o+"/Estimates",method:"PUT"},replaceOrCreate:{url:o+"/Estimates/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Estimates/upsertWithWhere",method:"POST"},exists:{url:o+"/Estimates/:id/exists",method:"GET"},findById:{url:o+"/Estimates/:id",method:"GET"},replaceById:{url:o+"/Estimates/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Estimates",method:"GET"},findOne:{url:o+"/Estimates/findOne",method:"GET"},updateAll:{url:o+"/Estimates/update",method:"POST"},deleteById:{url:o+"/Estimates/:id",method:"DELETE"},count:{url:o+"/Estimates/count",method:"GET"},prototype$updateAttributes:{url:o+"/Estimates/:id",method:"PUT"},createChangeStream:{url:o+"/Estimates/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Estimate",s}]),i.factory("Customer",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Customers/:id",{id:"@id"},{create:{url:o+"/Customers",method:"POST"},createMany:{isArray:!0,url:o+"/Customers",method:"POST"},upsert:{url:o+"/Customers",method:"PUT"},replaceOrCreate:{url:o+"/Customers/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Customers/upsertWithWhere",method:"POST"},exists:{url:o+"/Customers/:id/exists",method:"GET"},findById:{url:o+"/Customers/:id",method:"GET"},replaceById:{url:o+"/Customers/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Customers",method:"GET"},findOne:{url:o+"/Customers/findOne",method:"GET"},updateAll:{url:o+"/Customers/update",method:"POST"},deleteById:{url:o+"/Customers/:id",method:"DELETE"},count:{url:o+"/Customers/count",method:"GET"},prototype$updateAttributes:{url:o+"/Customers/:id",method:"PUT"},createChangeStream:{url:o+"/Customers/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Customer",s}]),i.factory("CustomerType",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/CustomerTypes/:id",{id:"@id"},{create:{url:o+"/CustomerTypes",method:"POST"},createMany:{isArray:!0,url:o+"/CustomerTypes",method:"POST"},upsert:{url:o+"/CustomerTypes",method:"PUT"},replaceOrCreate:{url:o+"/CustomerTypes/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/CustomerTypes/upsertWithWhere",method:"POST"},exists:{url:o+"/CustomerTypes/:id/exists",method:"GET"},findById:{url:o+"/CustomerTypes/:id",method:"GET"},replaceById:{url:o+"/CustomerTypes/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/CustomerTypes",method:"GET"},findOne:{url:o+"/CustomerTypes/findOne",method:"GET"},updateAll:{url:o+"/CustomerTypes/update",method:"POST"},deleteById:{url:o+"/CustomerTypes/:id",method:"DELETE"},count:{url:o+"/CustomerTypes/count",method:"GET"},prototype$updateAttributes:{url:o+"/CustomerTypes/:id",method:"PUT"},createChangeStream:{url:o+"/CustomerTypes/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="CustomerType",s}]),i.factory("CustomerMsg",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/CustomerMsgs/:id",{id:"@id"},{create:{url:o+"/CustomerMsgs",method:"POST"},createMany:{isArray:!0,url:o+"/CustomerMsgs",method:"POST"},upsert:{url:o+"/CustomerMsgs",method:"PUT"},replaceOrCreate:{url:o+"/CustomerMsgs/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/CustomerMsgs/upsertWithWhere",method:"POST"},exists:{url:o+"/CustomerMsgs/:id/exists",method:"GET"},findById:{url:o+"/CustomerMsgs/:id",method:"GET"},replaceById:{url:o+"/CustomerMsgs/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/CustomerMsgs",method:"GET"},findOne:{url:o+"/CustomerMsgs/findOne",method:"GET"},updateAll:{url:o+"/CustomerMsgs/update",method:"POST"},deleteById:{url:o+"/CustomerMsgs/:id",method:"DELETE"},count:{url:o+"/CustomerMsgs/count",method:"GET"},prototype$updateAttributes:{url:o+"/CustomerMsgs/:id",method:"PUT"},createChangeStream:{url:o+"/CustomerMsgs/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="CustomerMsg",s}]),i.factory("Class",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Classes/:id",{id:"@id"},{create:{url:o+"/Classes",method:"POST"},createMany:{isArray:!0,url:o+"/Classes",method:"POST"},upsert:{url:o+"/Classes",method:"PUT"},replaceOrCreate:{url:o+"/Classes/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Classes/upsertWithWhere",method:"POST"},exists:{url:o+"/Classes/:id/exists",method:"GET"},findById:{url:o+"/Classes/:id",method:"GET"},replaceById:{url:o+"/Classes/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Classes",method:"GET"},findOne:{url:o+"/Classes/findOne",method:"GET"},updateAll:{url:o+"/Classes/update",method:"POST"},deleteById:{url:o+"/Classes/:id",method:"DELETE"},count:{url:o+"/Classes/count",method:"GET"},prototype$updateAttributes:{url:o+"/Classes/:id",method:"PUT"},createChangeStream:{url:o+"/Classes/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Class",s}]),i.factory("ToDo",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ToDos/:id",{id:"@id"},{create:{url:o+"/ToDos",method:"POST"},createMany:{isArray:!0,url:o+"/ToDos",method:"POST"},upsert:{url:o+"/ToDos",method:"PUT"},replaceOrCreate:{url:o+"/ToDos/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ToDos/upsertWithWhere",method:"POST"},exists:{url:o+"/ToDos/:id/exists",method:"GET"},findById:{url:o+"/ToDos/:id",method:"GET"},replaceById:{url:o+"/ToDos/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ToDos",method:"GET"},findOne:{url:o+"/ToDos/findOne",method:"GET"},updateAll:{url:o+"/ToDos/update",method:"POST"},deleteById:{url:o+"/ToDos/:id",method:"DELETE"},count:{url:o+"/ToDos/count",method:"GET"},prototype$updateAttributes:{url:o+"/ToDos/:id",method:"PUT"},createChangeStream:{url:o+"/ToDos/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ToDo",s}]),i.factory("PaymentMethod",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/PaymentMethods/:id",{id:"@id"},{create:{url:o+"/PaymentMethods",method:"POST"},createMany:{isArray:!0,url:o+"/PaymentMethods",method:"POST"},upsert:{url:o+"/PaymentMethods",method:"PUT"},replaceOrCreate:{url:o+"/PaymentMethods/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/PaymentMethods/upsertWithWhere",method:"POST"},exists:{url:o+"/PaymentMethods/:id/exists",method:"GET"},findById:{url:o+"/PaymentMethods/:id",method:"GET"},replaceById:{url:o+"/PaymentMethods/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/PaymentMethods",method:"GET"},findOne:{url:o+"/PaymentMethods/findOne",method:"GET"},updateAll:{url:o+"/PaymentMethods/update",method:"POST"},deleteById:{url:o+"/PaymentMethods/:id",method:"DELETE"},count:{url:o+"/PaymentMethods/count",method:"GET"},prototype$updateAttributes:{url:o+"/PaymentMethods/:id",method:"PUT"},createChangeStream:{url:o+"/PaymentMethods/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="PaymentMethod",s}]),i.factory("PriceLevel",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/PriceLevels/:id",{id:"@id"},{create:{url:o+"/PriceLevels",method:"POST"},createMany:{isArray:!0,url:o+"/PriceLevels",method:"POST"},upsert:{url:o+"/PriceLevels",method:"PUT"},replaceOrCreate:{url:o+"/PriceLevels/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/PriceLevels/upsertWithWhere",method:"POST"},exists:{url:o+"/PriceLevels/:id/exists",method:"GET"},findById:{url:o+"/PriceLevels/:id",method:"GET"},replaceById:{url:o+"/PriceLevels/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/PriceLevels",method:"GET"},findOne:{url:o+"/PriceLevels/findOne",method:"GET"},updateAll:{url:o+"/PriceLevels/update",method:"POST"},deleteById:{url:o+"/PriceLevels/:id",method:"DELETE"},count:{url:o+"/PriceLevels/count",method:"GET"},prototype$updateAttributes:{url:o+"/PriceLevels/:id",method:"PUT"},createChangeStream:{url:o+"/PriceLevels/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="PriceLevel",s}]),i.factory("SalesRep",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/SalesReps/:id",{id:"@id"},{create:{url:o+"/SalesReps",method:"POST"},createMany:{isArray:!0,url:o+"/SalesReps",method:"POST"},upsert:{url:o+"/SalesReps",method:"PUT"},replaceOrCreate:{url:o+"/SalesReps/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/SalesReps/upsertWithWhere",method:"POST"},exists:{url:o+"/SalesReps/:id/exists",method:"GET"},findById:{url:o+"/SalesReps/:id",method:"GET"},replaceById:{url:o+"/SalesReps/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/SalesReps",method:"GET"},findOne:{url:o+"/SalesReps/findOne",method:"GET"},updateAll:{url:o+"/SalesReps/update",method:"POST"},deleteById:{url:o+"/SalesReps/:id",method:"DELETE"},count:{url:o+"/SalesReps/count",method:"GET"},prototype$updateAttributes:{url:o+"/SalesReps/:id",method:"PUT"},createChangeStream:{url:o+"/SalesReps/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="SalesRep",s}]),i.factory("SalesReceipt",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/SalesReceipts/:id",{id:"@id"},{create:{url:o+"/SalesReceipts",method:"POST"},createMany:{isArray:!0,url:o+"/SalesReceipts",method:"POST"},upsert:{url:o+"/SalesReceipts",method:"PUT"},replaceOrCreate:{url:o+"/SalesReceipts/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/SalesReceipts/upsertWithWhere",method:"POST"},exists:{url:o+"/SalesReceipts/:id/exists",method:"GET"},findById:{url:o+"/SalesReceipts/:id",method:"GET"},replaceById:{url:o+"/SalesReceipts/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/SalesReceipts",method:"GET"},findOne:{url:o+"/SalesReceipts/findOne",method:"GET"},updateAll:{url:o+"/SalesReceipts/update",method:"POST"},deleteById:{url:o+"/SalesReceipts/:id",method:"DELETE"},count:{url:o+"/SalesReceipts/count",method:"GET"},prototype$updateAttributes:{url:o+"/SalesReceipts/:id",method:"PUT"},createChangeStream:{url:o+"/SalesReceipts/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="SalesReceipt",s}]),i.factory("SalesOrder",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/SalesOrders/:id",{id:"@id"},{create:{url:o+"/SalesOrders",method:"POST"},createMany:{isArray:!0,url:o+"/SalesOrders",method:"POST"},upsert:{url:o+"/SalesOrders",method:"PUT"},replaceOrCreate:{url:o+"/SalesOrders/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/SalesOrders/upsertWithWhere",method:"POST"},exists:{url:o+"/SalesOrders/:id/exists",method:"GET"},findById:{url:o+"/SalesOrders/:id",method:"GET"},replaceById:{url:o+"/SalesOrders/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/SalesOrders",method:"GET"},findOne:{url:o+"/SalesOrders/findOne",method:"GET"},updateAll:{url:o+"/SalesOrders/update",method:"POST"},deleteById:{url:o+"/SalesOrders/:id",method:"DELETE"},count:{url:o+"/SalesOrders/count",method:"GET"},prototype$updateAttributes:{url:o+"/SalesOrders/:id",method:"PUT"},createChangeStream:{url:o+"/SalesOrders/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="SalesOrder",s}]),i.factory("SalesTaxCode",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/SalesTaxCodes/:id",{id:"@id"},{create:{url:o+"/SalesTaxCodes",method:"POST"},createMany:{isArray:!0,url:o+"/SalesTaxCodes",method:"POST"},upsert:{url:o+"/SalesTaxCodes",method:"PUT"},replaceOrCreate:{url:o+"/SalesTaxCodes/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/SalesTaxCodes/upsertWithWhere",method:"POST"},exists:{url:o+"/SalesTaxCodes/:id/exists",method:"GET"},findById:{url:o+"/SalesTaxCodes/:id",method:"GET"},replaceById:{url:o+"/SalesTaxCodes/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/SalesTaxCodes",method:"GET"},findOne:{url:o+"/SalesTaxCodes/findOne",method:"GET"},updateAll:{url:o+"/SalesTaxCodes/update",method:"POST"},deleteById:{url:o+"/SalesTaxCodes/:id",method:"DELETE"},count:{url:o+"/SalesTaxCodes/count",method:"GET"},prototype$updateAttributes:{url:o+"/SalesTaxCodes/:id",method:"PUT"},createChangeStream:{url:o+"/SalesTaxCodes/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="SalesTaxCode",s}]),i.factory("ShipMethod",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ShipMethods/:id",{id:"@id"},{create:{url:o+"/ShipMethods",method:"POST"},createMany:{isArray:!0,url:o+"/ShipMethods",method:"POST"},upsert:{url:o+"/ShipMethods",method:"PUT"},replaceOrCreate:{url:o+"/ShipMethods/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ShipMethods/upsertWithWhere",method:"POST"},exists:{url:o+"/ShipMethods/:id/exists",method:"GET"},findById:{url:o+"/ShipMethods/:id",method:"GET"},replaceById:{url:o+"/ShipMethods/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ShipMethods",method:"GET"},findOne:{url:o+"/ShipMethods/findOne",method:"GET"},updateAll:{url:o+"/ShipMethods/update",method:"POST"},deleteById:{url:o+"/ShipMethods/:id",method:"DELETE"},count:{url:o+"/ShipMethods/count",method:"GET"},prototype$updateAttributes:{url:o+"/ShipMethods/:id",method:"PUT"},createChangeStream:{url:o+"/ShipMethods/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ShipMethod",s}]),i.factory("StandardTerms",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/StandardTerms/:id",{id:"@id"},{create:{url:o+"/StandardTerms",method:"POST"},createMany:{isArray:!0,url:o+"/StandardTerms",method:"POST"},upsert:{url:o+"/StandardTerms",method:"PUT"},replaceOrCreate:{url:o+"/StandardTerms/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/StandardTerms/upsertWithWhere",method:"POST"},exists:{url:o+"/StandardTerms/:id/exists",method:"GET"},findById:{url:o+"/StandardTerms/:id",method:"GET"},replaceById:{url:o+"/StandardTerms/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/StandardTerms",method:"GET"},findOne:{url:o+"/StandardTerms/findOne",method:"GET"},updateAll:{url:o+"/StandardTerms/update",method:"POST"},deleteById:{url:o+"/StandardTerms/:id",method:"DELETE"},count:{url:o+"/StandardTerms/count",method:"GET"},prototype$updateAttributes:{url:o+"/StandardTerms/:id",method:"PUT"},createChangeStream:{url:o+"/StandardTerms/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="StandardTerms",s}]),i.factory("Terms",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Terms/:id",{id:"@id"},{create:{url:o+"/Terms",method:"POST"},createMany:{isArray:!0,url:o+"/Terms",method:"POST"},upsert:{url:o+"/Terms",method:"PUT"},replaceOrCreate:{url:o+"/Terms/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Terms/upsertWithWhere",method:"POST"},exists:{url:o+"/Terms/:id/exists",method:"GET"},findById:{url:o+"/Terms/:id",method:"GET"},replaceById:{url:o+"/Terms/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Terms",method:"GET"},findOne:{url:o+"/Terms/findOne",method:"GET"},updateAll:{url:o+"/Terms/update",method:"POST"},deleteById:{url:o+"/Terms/:id",method:"DELETE"},count:{url:o+"/Terms/count",method:"GET"},prototype$updateAttributes:{url:o+"/Terms/:id",method:"PUT"},createChangeStream:{url:o+"/Terms/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Terms",s}]),i.factory("Template",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Templates/:id",{id:"@id"},{create:{url:o+"/Templates",method:"POST"},createMany:{isArray:!0,url:o+"/Templates",method:"POST"},upsert:{url:o+"/Templates",method:"PUT"},replaceOrCreate:{url:o+"/Templates/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Templates/upsertWithWhere",method:"POST"},exists:{url:o+"/Templates/:id/exists",method:"GET"},findById:{url:o+"/Templates/:id",method:"GET"},replaceById:{url:o+"/Templates/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Templates",method:"GET"},findOne:{url:o+"/Templates/findOne",method:"GET"},updateAll:{url:o+"/Templates/update",method:"POST"},deleteById:{url:o+"/Templates/:id",method:"DELETE"},count:{url:o+"/Templates/count",method:"GET"},prototype$updateAttributes:{url:o+"/Templates/:id",method:"PUT"},createChangeStream:{url:o+"/Templates/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Template",s}]),i.factory("Item",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Items/:id",{id:"@id"},{create:{url:o+"/Items",method:"POST"},createMany:{isArray:!0,url:o+"/Items",method:"POST"},upsert:{url:o+"/Items",method:"PUT"},replaceOrCreate:{url:o+"/Items/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Items/upsertWithWhere",method:"POST"},exists:{url:o+"/Items/:id/exists",method:"GET"},findById:{url:o+"/Items/:id",method:"GET"},replaceById:{url:o+"/Items/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Items",method:"GET"},findOne:{url:o+"/Items/findOne",method:"GET"},updateAll:{url:o+"/Items/update",method:"POST"},deleteById:{url:o+"/Items/:id",method:"DELETE"},count:{url:o+"/Items/count",method:"GET"},prototype$updateAttributes:{url:o+"/Items/:id",method:"PUT"},createChangeStream:{url:o+"/Items/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Item",s}]),i.factory("ItemInventory",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ItemInventories/:id",{id:"@id"},{create:{url:o+"/ItemInventories",method:"POST"},createMany:{isArray:!0,url:o+"/ItemInventories",method:"POST"},upsert:{url:o+"/ItemInventories",method:"PUT"},replaceOrCreate:{url:o+"/ItemInventories/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ItemInventories/upsertWithWhere",method:"POST"},exists:{url:o+"/ItemInventories/:id/exists",method:"GET"},findById:{url:o+"/ItemInventories/:id",method:"GET"},replaceById:{url:o+"/ItemInventories/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ItemInventories",method:"GET"},findOne:{url:o+"/ItemInventories/findOne",method:"GET"},updateAll:{url:o+"/ItemInventories/update",method:"POST"},deleteById:{url:o+"/ItemInventories/:id",method:"DELETE"},count:{url:o+"/ItemInventories/count",method:"GET"},prototype$updateAttributes:{url:o+"/ItemInventories/:id",method:"PUT"},createChangeStream:{url:o+"/ItemInventories/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ItemInventory",s}]),i.factory("ItemNonInventory",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ItemNonInventories/:id",{id:"@id"},{create:{url:o+"/ItemNonInventories",method:"POST"},createMany:{isArray:!0,url:o+"/ItemNonInventories",method:"POST"},upsert:{url:o+"/ItemNonInventories",method:"PUT"},replaceOrCreate:{url:o+"/ItemNonInventories/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ItemNonInventories/upsertWithWhere",method:"POST"},exists:{url:o+"/ItemNonInventories/:id/exists",method:"GET"},findById:{url:o+"/ItemNonInventories/:id",method:"GET"},replaceById:{url:o+"/ItemNonInventories/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ItemNonInventories",method:"GET"},findOne:{url:o+"/ItemNonInventories/findOne",method:"GET"},updateAll:{url:o+"/ItemNonInventories/update",method:"POST"},deleteById:{url:o+"/ItemNonInventories/:id",method:"DELETE"},count:{url:o+"/ItemNonInventories/count",method:"GET"},prototype$updateAttributes:{url:o+"/ItemNonInventories/:id",method:"PUT"},createChangeStream:{url:o+"/ItemNonInventories/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ItemNonInventory",s}]),i.factory("ItemService",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ItemServices/:id",{id:"@id"},{create:{url:o+"/ItemServices",method:"POST"},createMany:{isArray:!0,url:o+"/ItemServices",method:"POST"},upsert:{url:o+"/ItemServices",method:"PUT"},replaceOrCreate:{url:o+"/ItemServices/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ItemServices/upsertWithWhere",method:"POST"},exists:{url:o+"/ItemServices/:id/exists",method:"GET"},findById:{url:o+"/ItemServices/:id",method:"GET"},replaceById:{url:o+"/ItemServices/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ItemServices",method:"GET"},findOne:{url:o+"/ItemServices/findOne",method:"GET"},updateAll:{url:o+"/ItemServices/update",method:"POST"},deleteById:{url:o+"/ItemServices/:id",method:"DELETE"},count:{url:o+"/ItemServices/count",method:"GET"},prototype$updateAttributes:{url:o+"/ItemServices/:id",method:"PUT"},createChangeStream:{url:o+"/ItemServices/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ItemService",s}]),i.factory("ItemSalesTax",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ItemSalesTaxes/:id",{id:"@id"},{create:{url:o+"/ItemSalesTaxes",method:"POST"},createMany:{isArray:!0,url:o+"/ItemSalesTaxes",method:"POST"},upsert:{url:o+"/ItemSalesTaxes",method:"PUT"},replaceOrCreate:{url:o+"/ItemSalesTaxes/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ItemSalesTaxes/upsertWithWhere",method:"POST"},exists:{url:o+"/ItemSalesTaxes/:id/exists",method:"GET"},findById:{url:o+"/ItemSalesTaxes/:id",method:"GET"},replaceById:{url:o+"/ItemSalesTaxes/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ItemSalesTaxes",method:"GET"},findOne:{url:o+"/ItemSalesTaxes/findOne",method:"GET"},updateAll:{url:o+"/ItemSalesTaxes/update",method:"POST"},deleteById:{url:o+"/ItemSalesTaxes/:id",method:"DELETE"},count:{url:o+"/ItemSalesTaxes/count",method:"GET"},prototype$updateAttributes:{url:o+"/ItemSalesTaxes/:id",method:"PUT"},createChangeStream:{url:o+"/ItemSalesTaxes/change-stream",
method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ItemSalesTax",s}]),i.factory("ItemDiscount",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/ItemDiscounts/:id",{id:"@id"},{create:{url:o+"/ItemDiscounts",method:"POST"},createMany:{isArray:!0,url:o+"/ItemDiscounts",method:"POST"},upsert:{url:o+"/ItemDiscounts",method:"PUT"},replaceOrCreate:{url:o+"/ItemDiscounts/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/ItemDiscounts/upsertWithWhere",method:"POST"},exists:{url:o+"/ItemDiscounts/:id/exists",method:"GET"},findById:{url:o+"/ItemDiscounts/:id",method:"GET"},replaceById:{url:o+"/ItemDiscounts/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/ItemDiscounts",method:"GET"},findOne:{url:o+"/ItemDiscounts/findOne",method:"GET"},updateAll:{url:o+"/ItemDiscounts/update",method:"POST"},deleteById:{url:o+"/ItemDiscounts/:id",method:"DELETE"},count:{url:o+"/ItemDiscounts/count",method:"GET"},prototype$updateAttributes:{url:o+"/ItemDiscounts/:id",method:"PUT"},createChangeStream:{url:o+"/ItemDiscounts/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="ItemDiscount",s}]),i.factory("JobType",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/JobTypes/:id",{id:"@id"},{create:{url:o+"/JobTypes",method:"POST"},createMany:{isArray:!0,url:o+"/JobTypes",method:"POST"},upsert:{url:o+"/JobTypes",method:"PUT"},replaceOrCreate:{url:o+"/JobTypes/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/JobTypes/upsertWithWhere",method:"POST"},exists:{url:o+"/JobTypes/:id/exists",method:"GET"},findById:{url:o+"/JobTypes/:id",method:"GET"},replaceById:{url:o+"/JobTypes/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/JobTypes",method:"GET"},findOne:{url:o+"/JobTypes/findOne",method:"GET"},updateAll:{url:o+"/JobTypes/update",method:"POST"},deleteById:{url:o+"/JobTypes/:id",method:"DELETE"},count:{url:o+"/JobTypes/count",method:"GET"},prototype$updateAttributes:{url:o+"/JobTypes/:id",method:"PUT"},createChangeStream:{url:o+"/JobTypes/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="JobType",s}]),i.factory("Vendor",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Vendors/:id",{id:"@id"},{create:{url:o+"/Vendors",method:"POST"},createMany:{isArray:!0,url:o+"/Vendors",method:"POST"},upsert:{url:o+"/Vendors",method:"PUT"},replaceOrCreate:{url:o+"/Vendors/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Vendors/upsertWithWhere",method:"POST"},exists:{url:o+"/Vendors/:id/exists",method:"GET"},findById:{url:o+"/Vendors/:id",method:"GET"},replaceById:{url:o+"/Vendors/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Vendors",method:"GET"},findOne:{url:o+"/Vendors/findOne",method:"GET"},updateAll:{url:o+"/Vendors/update",method:"POST"},deleteById:{url:o+"/Vendors/:id",method:"DELETE"},count:{url:o+"/Vendors/count",method:"GET"},prototype$updateAttributes:{url:o+"/Vendors/:id",method:"PUT"},createChangeStream:{url:o+"/Vendors/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="Vendor",s}]),i.factory("VendorType",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/VendorTypes/:id",{id:"@id"},{create:{url:o+"/VendorTypes",method:"POST"},createMany:{isArray:!0,url:o+"/VendorTypes",method:"POST"},upsert:{url:o+"/VendorTypes",method:"PUT"},replaceOrCreate:{url:o+"/VendorTypes/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/VendorTypes/upsertWithWhere",method:"POST"},exists:{url:o+"/VendorTypes/:id/exists",method:"GET"},findById:{url:o+"/VendorTypes/:id",method:"GET"},replaceById:{url:o+"/VendorTypes/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/VendorTypes",method:"GET"},findOne:{url:o+"/VendorTypes/findOne",method:"GET"},updateAll:{url:o+"/VendorTypes/update",method:"POST"},deleteById:{url:o+"/VendorTypes/:id",method:"DELETE"},count:{url:o+"/VendorTypes/count",method:"GET"},prototype$updateAttributes:{url:o+"/VendorTypes/:id",method:"PUT"},createChangeStream:{url:o+"/VendorTypes/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="VendorType",s}]),i.factory("UnitOfMeasureSet",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/UnitOfMeasureSets/:id",{id:"@id"},{create:{url:o+"/UnitOfMeasureSets",method:"POST"},createMany:{isArray:!0,url:o+"/UnitOfMeasureSets",method:"POST"},upsert:{url:o+"/UnitOfMeasureSets",method:"PUT"},replaceOrCreate:{url:o+"/UnitOfMeasureSets/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/UnitOfMeasureSets/upsertWithWhere",method:"POST"},exists:{url:o+"/UnitOfMeasureSets/:id/exists",method:"GET"},findById:{url:o+"/UnitOfMeasureSets/:id",method:"GET"},replaceById:{url:o+"/UnitOfMeasureSets/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/UnitOfMeasureSets",method:"GET"},findOne:{url:o+"/UnitOfMeasureSets/findOne",method:"GET"},updateAll:{url:o+"/UnitOfMeasureSets/update",method:"POST"},deleteById:{url:o+"/UnitOfMeasureSets/:id",method:"DELETE"},count:{url:o+"/UnitOfMeasureSets/count",method:"GET"},prototype$updateAttributes:{url:o+"/UnitOfMeasureSets/:id",method:"PUT"},createChangeStream:{url:o+"/UnitOfMeasureSets/change-stream",method:"POST"}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.modelName="UnitOfMeasureSet",s}]),i.factory("User",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/Users/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:o+"/Users/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:o+"/Users/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:o+"/Users/:id/accessTokens/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:o+"/Users/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:o+"/Users/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:o+"/Users/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:o+"/Users/:id/accessTokens/count",method:"GET"},create:{url:o+"/Users",method:"POST"},createMany:{isArray:!0,url:o+"/Users",method:"POST"},upsert:{url:o+"/Users",method:"PUT"},replaceOrCreate:{url:o+"/Users/replaceOrCreate",method:"POST"},upsertWithWhere:{url:o+"/Users/upsertWithWhere",method:"POST"},exists:{url:o+"/Users/:id/exists",method:"GET"},findById:{url:o+"/Users/:id",method:"GET"},replaceById:{url:o+"/Users/:id/replace",method:"POST"},find:{isArray:!0,url:o+"/Users",method:"GET"},findOne:{url:o+"/Users/findOne",method:"GET"},updateAll:{url:o+"/Users/update",method:"POST"},deleteById:{url:o+"/Users/:id",method:"DELETE"},count:{url:o+"/Users/count",method:"GET"},prototype$updateAttributes:{url:o+"/Users/:id",method:"PUT"},createChangeStream:{url:o+"/Users/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(e){var r=e.data;return t.setUser(r.id,r.userId,r.user),t.rememberMe=e.config.params.rememberMe!==!1,t.save(),e.resource}},url:o+"/Users/login",method:"POST"},logout:{interceptor:{response:function(e){return t.clearUser(),t.clearStorage(),e.resource}},url:o+"/Users/logout",method:"POST"},confirm:{url:o+"/Users/confirm",method:"GET"},resetPassword:{url:o+"/Users/reset",method:"POST"},getCurrent:{url:o+"/Users/:id",method:"GET",params:{id:function(){var e=t.currentUserId;return null==e&&(e="__anonymous__"),e}},interceptor:{response:function(e){return t.currentUserData=e.data,e.resource}},__isGetCurrentUser__:!0}});return s.patchOrCreate=s.upsert,s.updateOrCreate=s.upsert,s.patchOrCreateWithWhere=s.upsertWithWhere,s.update=s.updateAll,s.destroyById=s.deleteById,s.removeById=s.deleteById,s.patchAttributes=s.prototype$updateAttributes,s.getCachedCurrent=function(){var e=t.currentUserData;return e?new s(e):null},s.isAuthenticated=function(){return null!=this.getCurrentId()},s.getCurrentId=function(){return t.currentUserId},s.modelName="User",s}]),i.factory("QuickBooks",["LoopBackResource","LoopBackAuth","$injector",function(e,t,r){var s=e(o+"/QuickBooks/:id",{id:"@id"},{queueTransaction:{url:o+"/QuickBooks/queueTransaction",method:"POST"},reSync:{url:o+"/QuickBooks/reSync",method:"GET"}});return s.modelName="QuickBooks",s}]),i.factory("LoopBackAuth",function(){function e(){var e=this;s.forEach(function(t){e[t]=r(t)}),this.currentUserData=null}function t(e,t,r){try{var s=o+t;null==r&&(r=""),e[s]=r}catch(a){console.log("Cannot access local/session storage:",a)}}function r(e){var t=o+e;return localStorage[t]||sessionStorage[t]||null}var s=["accessTokenId","currentUserId","rememberMe"],o="$LoopBack$";return e.prototype.save=function(){var e=this,r=this.rememberMe?localStorage:sessionStorage;s.forEach(function(s){t(r,s,e[s])})},e.prototype.setUser=function(e,t,r){this.accessTokenId=e,this.currentUserId=t,this.currentUserData=r},e.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},e.prototype.clearStorage=function(){s.forEach(function(e){t(sessionStorage,e,null),t(localStorage,e,null)})},new e}).config(["$httpProvider",function(e){e.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(e,t){return{request:function(o){var i=s(o.url);if(i&&i!==d)return o;if(t.accessTokenId)o.headers[a]=t.accessTokenId;else if(o.__isGetCurrentUser__){var n={body:{error:{status:401}},status:401,config:o,headers:function(){return r}};return e.reject(n)}return o||e.when(o)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(e){a=e},this.setUrlBase=function(e){o=e,d=s(o)||location.host},this.getUrlBase=function(){return o},this.$get=["$resource",function(e){return function(t,r,s){var o=e(t,r,s);return o.prototype.$save=function(e,t){this.syncToQB=!0;var r=o.upsert.call(this,{},this,e,t);return r.$promise||r},o.syncToQB=!0,o}}]})}(window,window.angular),angular.module("cnsSteelSales").factory("AuthService",["Employee","$q","$rootScope","$state",function(e,t,r,s){function o(t,s){return e.login({email:t,password:s}).$promise.then(function(e){return r.currentEmployee=e.user,e.user})}function a(t){return e.logout(t).$promise.then(function(){r.currentEmployee=null,s.go("root.login")})}function d(){return e.isAuthenticated()}function i(){return r.currentEmployee=e.getCurrent()}return{login:o,logout:a,isAuthenticated:d,getCurrentEmployee:i}}]),angular.module("cnsSteelSales").directive("breadcrumb",["$compile",function(e){return{restrict:"A",replace:!0,scope:{breadcrumb:"="},template:'<span>{{::breadcrumb.name}}<md-icon md-font-icon="fa fa-chevron-right" class="margin-left-10" ng-show="breadcrumb.children.length > 0"></md-icon></span>',link:function(t,r){void 0!==t.breadcrumb.children&&r.find("span").attr("hide-sm","");var s='<span breadcrumbs="breadcrumb.children"></span>';angular.isArray(t.breadcrumb.children)&&e(s)(t,function(e){r.append(e)})}}}]),angular.module("cnsSteelSales").directive("breadcrumbs",function(){return{restrict:"A",require:"^toolbar",replace:!0,scope:{breadcrumbs:"="},template:'<span class="breadcrumb" hide-sm ng-repeat="breadcrumb in ::breadcrumbs" ng-show="breadcrumb.active" breadcrumb="breadcrumb"></span>'}}),angular.module("cnsSteelSales").directive("lbDatepicker",function(){return{restrict:"E",template:'<md-input-container><label>{{label}}</label><md-datepicker ng-model="model" md-min-date="minDate" md-max-date="maxDate"></md-datepicker></md-input-container>',scope:{model:"=",label:"@",minDate:"@",maxDate:"@"},link:function(e){!e.model||e.model instanceof Date||(e.model=new Date(e.model),e.$watch("model",function(t,r){!t||t===r||t instanceof Date||(e.model=new Date(t))}))}}}),angular.module("cnsSteelSales").directive("sideMenu",function(){return{restrict:"E",template:'<md-content><side-menu-item ng-repeat="item in menu | orderBy:\'priority\'" item="item"></side-menu-item></md-content>',scope:{menu:"="}}}),angular.module("cnsSteelSales").directive("sideMenuItem",["$state",function(e){return{restrict:"E",scope:{item:"="},template:'<div ng-include="itemTemplate"></div>',link:function(t){function r(){var r=void 0===t.item.params?{}:t.item.params;return e.includes(t.item.state,r)}function s(){t.item.active=!0,t.item.open=!0,t.$emit("openParents")}t.itemTemplate="views/components/side-menu/side-menu-"+t.item.type+".html",t.item.url=e.href(t.item.state),t.toggleMenu=function(){t.$parent.$parent.$broadcast("toggleMenu",t.item,!t.item.open)},t.$on("toggleMenu",function(e,r,s){t.item===r?t.item.open=s:t.item.open=!1}),r()&&s(),t.$on("$locationChangeSuccess",function(){t.item.active=!1,t.item.open=!1,r()&&s()}),t.activeClass=function(){return r()?"md-accent":""},t.openLink=function(){var r=void 0===t.item.params?{}:t.item.params;e.go(t.item.state,r)},t.$on("openParents",function(){t.item.active=!0,t.item.open=!0})}}}]),angular.module("cnsSteelSales").controller("RootCtrl",["$scope","$state","AuthService",function(e,t,r){!r.isAuthenticated()&&t.go("root.login")}]),angular.module("cnsSteelSales").controller("LoginCtrl",["$scope","AuthService","$mdToast","$state","$rootScope",function(e,t,r,s,o){e.login=function(){t.login(e.email,e.password).then(function(e){var t=o.nextAfterLogin||"root.app.dashboard";o.nextAfterLogin=null,s.go(t)})["catch"](function(e){return e.status==-1?r.showSimple("failed to connect to the api"):void r.show(r.simple().content(e.data.error.message).position("top right").hideDelay(0).action("OK"))})}}]),angular.module("cnsSteelSales").controller("CustomerController",["$stateParams","$scope","$rootScope","$state","Customer","Estimate","SalesOrder","$window","$localStorage","notifications","createChangeStream","LiveSet","LoopBackAuth",function(e,t,r,s,o,a,d,i,n,u,l,c,m){var p,h=new EventSource(r.APP.apiUrl+"/Customers/change-stream?_format=event-stream&access_token="+m.accessTokenId),T=l(h);o.find({filter:{where:{or:[{id:e.id},{ListID:e.ListID}]}}}).$promise.then(function(r){p=new c(r,T),t.record=p.toLiveArray(),o.find({filter:{where:{"ParentRef.ListID":e.ListID}}},function(e){t.record[0].jobs=e}),t.record[0].estimates=a.find({filter:{where:{"CustomerRef.ListID":e.ListID}}}),t.record[0].salesOrders=d.find({filter:{where:{"CustomerRef.ListID":e.ListID}}})}),t.newJob=function(t){if(!t.ListID)return u.showError("Cannot create a new Job for this Customer until it been synchronized with QuickBooks");var r={Fax:t.Fax,Phone:t.Phone,Email:t.Email,JobTitle:t.JobTitle,LastName:t.LastName,FirstName:t.FirstName,MiddleName:t.MiddleName,SalesRepRef:t.SalesRepRef,BillAddress:t.BillAddress,CompanyName:t.CompanyName,ShipAddress:t.ShipAddress,ItemSalesTaxRef:t.ItemSalesTaxRef,PreferredDeliveryMethod:t.PreferredDeliveryMethod,ParentRef:{ListID:t.ListID,FullName:t.FullName}};o.create(r,function(t){n.prevState={name:s.current.name,params:e},s.go("root.app.customer",{id:t.id,ListID:null})})},t.newSalesOrder=function(t){if(!t.ListID)return u.showError("Cannot create a new Sales Order for this Customer until it been synchronized with QuickBooks");var o={CustomerRef:{ListID:t.ListID,FullName:t.FullName},TermsRef:t.TermsRef,SalesRepRef:t.SalesRepRef,BillAddress:t.BillAddress,ShipAddress:t.ShipAddress,ItemSalesTaxRef:t.ItemSalesTaxRef};d.create(o,function(t){r.$localStorage.prevState={name:s.current.name,params:e},s.go("root.app.salesOrder",{id:t.id})})},t.newEstimate=function(t){if(!t.ListID)return u.showError("Cannot create a new Estimate for this Customer until it been synchronized with QuickBooks");var r={CustomerRef:{ListID:t.ListID,FullName:t.FullName},TermsRef:t.TermsRef,SalesRepRef:t.SalesRepRef,BillAddress:t.BillAddress,ShipAddress:t.ShipAddress,ItemSalesTaxRef:t.ItemSalesTaxRef};a.create(r,function(t){n.prevState={name:s.current.name,params:e},s.go("root.app.estimate",{id:t.id})})},t.$watch("billAddressLines",function(e,r){e&&e!=r&&e.forEach(function(e,r){t.record.BillAddress["Addr"+(r+1)]=e})}),t.$watch("shipAddressLines",function(e,r){e&&e!=r&&e.forEach(function(e,r){t.record.ShipAddress["Addr"+(r+1)]=e})}),t.$watch("record.ShipAddress",function(e,r){e&&e!=r&&(t.shipAddressLines=[],e.Addr1&&(t.shipAddressLines[0]=e.Addr1),e.Addr2&&(t.shipAddressLines[1]=e.Addr2),e.Addr3&&(t.shipAddressLines[2]=e.Addr3),e.Addr4&&(t.shipAddressLines[3]=e.Addr4),e.Addr5&&(t.shipAddressLines[4]=e.Addr5))}),t.$watch("record.BillAddress",function(e,r){e&&e!=r&&(t.billAddressLines=[],e.Addr1&&(t.billAddressLines[0]=e.Addr1),e.Addr2&&(t.billAddressLines[1]=e.Addr2),e.Addr3&&(t.billAddressLines[2]=e.Addr3),e.Addr4&&(t.billAddressLines[3]=e.Addr4),e.Addr5&&(t.billAddressLines[4]=e.Addr5))}),t.cloneAddress=function(){t.shipAddressLines=t.billAddressLines},t.save=function(e){t.isSavingRecord=!0,e.$save(function(e,r){t.isSavingRecord=!1,s.reload()})},t.goBack=function(){t.record.deleteUponCancel?t.record.$delete(function(){s.go(n.prevState.name,n.prevState.params)}):s.go(n.prevState.name,n.prevState.params),r.prevState=n.prevState=null}}]).controller("CustomersCtrl",["$scope","$rootScope","$mdDialog","$mdSidenav","Customer","$mdPanel","Estimate","SalesOrder","$state","$localStorage","$stateParams","createChangeStream","LiveSet","LoopBackAuth",function(e,t,r,s,o,a,d,i,n,u,l,c,m,p){var h,T=new EventSource(t.APP.apiUrl+"/Customers/change-stream?_format=event-stream&access_token="+p.accessTokenId),y=c(T);e.searchProperties=["Name","Email","Phone"],e.searchProperty="Name",e.query={order:"Email",limit:10,page:1,skip:0,where:{Sublevel:{neq:"0"}}},e.$watch("query.page",function(t,r){e.query.skip=e.query.limit*(t-1)}),e.totalRecords=o.count({where:{Sublevel:{neq:"0"}}}),e.customers=o.find({filter:e.query}),e.limitOptions=[10,50,100,{label:"All",value:function(){return e.totalRecords.count}}],e.getRecords=function(){o.find({filter:e.query}).$promise.then(function(t){h=new m(t,y),e.customers=h.toLiveArray()})},e.newJob=function(e){var t={Fax:e.Fax,Phone:e.Phone,Email:e.Email,JobTitle:e.JobTitle,LastName:e.LastName,FirstName:e.FirstName,MiddleName:e.MiddleName,SalesRepRef:e.SalesRepRef,BillAddress:e.BillAddress,CompanyName:e.CompanyName,ShipAddress:e.ShipAddress,ItemSalesTaxRef:e.ItemSalesTaxRef,PreferredDeliveryMethod:e.PreferredDeliveryMethod,ParentRef:{ListID:e.ListID,FullName:e.FullName}};o.create(t,function(e){u.prevState={name:n.current.name,params:l},n.go("root.app.customer",{id:e.id,ListID:null})})},e.newSalesOrder=function(e){var t={CustomerRef:{ListID:e.ListID,FullName:e.FullName},SalesRepRef:e.SalesRepRef,BillAddress:e.BillAddress,ShipAddress:e.ShipAddress};i.create(t,function(e){u.prevState={name:n.current.name,params:l},n.go("root.app.salesOrder",{id:e.id})})},e.newEstimate=function(e){var r={CustomerRef:{ListID:e.ListID,FullName:e.FullName},SalesRepRef:e.SalesRepRef,BillAddress:e.BillAddress,ShipAddress:e.ShipAddress};t.prevState=u.prevState={name:n.current.name,params:l},d.create(r,function(e){u.prevState={name:n.current.name,params:l},n.go("root.app.estimate",{id:e.id})})},e.newRecord=function(e){e=e||{status:"Add"},t.prevState=u.prevState={name:n.current.name,params:l},o.create(e,function(e){n.go("root.app.customer",{id:e.id})})}}]),angular.module("cnsSteelSales").controller("EstimateWrapController",["$stateParams","$scope","$rootScope","$state","Estimate","$window","$localStorage","notifications","createChangeStream","LiveSet","LoopBackAuth",function(e,t,r,s,o,a,d,i,n,u,l){var c,m=new EventSource(r.APP.apiUrl+"/Estimates/change-stream?_format=event-stream&access_token="+l.accessTokenId),p=n(m);o.find({filter:{where:{or:[{id:e.id},{TxnID:e.TxnID}]}}}).$promise.then(function(e){c=new u(e,p),t.record=c.toLiveArray()})}]).controller("EstimateController",["$stateParams","$scope","$rootScope","$state","SalesOrder",function(e,t,r,s,o){t.$watch("estimate.billAddressLines",function(e){e&&e.forEach(function(e,r){t.estimate.BillAddress["Addr"+(r+1)]=e})}),t.$watch("estimate.CustomerRef.ListID",function(e,s){if(e){var o=r.customersAndJobs.filter(function(t){return t.ListID==e})[0];s&&s!==e&&t.estimate&&(t.estimate.BillAddress=o.BillAddress,t.estimate.ShipAddress=o.ShipAddress,t.estimate.SalesRepRef=o.SalesRepRef)}}),t.$watch("estimate.ShipAddress",function(e){e&&(t.estimate.shipAddressLines=[],e.Addr1&&(t.estimate.shipAddressLines[0]=e.Addr1),e.Addr2&&(t.estimate.shipAddressLines[1]=e.Addr2),e.Addr3&&(t.estimate.shipAddressLines[2]=e.Addr3),e.Addr4&&(t.estimate.shipAddressLines[3]=e.Addr4),e.Addr5&&(t.estimate.shipAddressLines[4]=e.Addr5))}),t.$watch("estimate.BillAddress",function(e){e&&(t.estimate.billAddressLines=[],e.Addr1&&(t.estimate.billAddressLines[0]=e.Addr1),e.Addr2&&(t.estimate.billAddressLines[1]=e.Addr2),e.Addr3&&(t.estimate.billAddressLines[2]=e.Addr3),e.Addr4&&(t.estimate.billAddressLines[3]=e.Addr4),e.Addr5&&(t.estimate.billAddressLines[4]=e.Addr5))}),t.addNewLineItem=function(){var e={ItemRef:{FullName:""},TxnLineID:"-1",Quantity:1};t.estimate.EstimateLineMod||(t.estimate.EstimateLineMod=[]),t.estimate.EstimateLineMod.push(e)},t.removeLineItem=function(e){t.estimate.EstimateLineMod.splice(e,1)},t.$watch("estimate.EstimateLineMod",function(e){e&&e.forEach(function(e){console.log(e)})}),t.convertToSalesOrder=function(e){delete e.id,e.SalesOrderLineAdd=e.EstimateLineMod,o.create(e).$promise.then(function(e){s.go("root.app.salesOrder",{id:e.id})})},t.save=function(e){t.isSavingRecord=!0,e.$save(function(e,r){t.isSavingRecord=!1,s.reload()})}}]).controller("EstimateLineItemController",["$scope","$filter","$rootScope",function(e,t,r){e.$watch("record.Quantity",function(r){e.record.Amount=t("number")(e.record.Rate*r,2),e.estimate.Subtotal=0,e.estimate.EstimateLineMod.forEach(function(t){e.estimate.Subtotal+=parseFloat(t.Amount.split(",").join(""))})}),e.$watch("record.Rate",function(r){e.record.Amount=t("number")(r*e.record.Quantity,2),e.estimate.Subtotal=0,e.estimate.EstimateLineMod.forEach(function(t){e.estimate.Subtotal+=parseFloat(t.Amount.split(",").join(""))})})}]).controller("EstimatesCtrl",["$scope","$rootScope","$mdDialog","$mdSidenav","$stateParams","$localStorage","Estimate","createChangeStream","LiveSet","LoopBackAuth","$state",function(e,t,r,s,o,a,d,i,n,u,l){var c,m=new EventSource(t.APP.apiUrl+"/Estimates/change-stream?_format=event-stream&access_token="+u.accessTokenId),p=i(m);e.$watch("query.page",function(t,r){e.query.skip=e.query.limit*(t-1)}),e.totalRecords=d.count(),t.records=[],e.today=new Date,e.getRecords=function(){d.find({filter:e.query}).$promise.then(function(t){c=new n(t,p),e.estimates=c.toLiveArray()})},e.newRecord=function(e){e=e||{},t.prevState=a.prevState={name:l.current.name,params:o},d.create(e,function(e){l.go("root.app.estimate",{id:e.id})})},e.searchProperties=["TotalAmount"],e.searchProperty="TotalAmount",e.query={order:"TotalAmount",limit:10,page:1,skip:0},e.limitOptions=[10,50,100,{label:"All",value:function(){return e.totalRecords}}]}]),angular.module("cnsSteelSales").controller("SalesOrderWrapController",["$stateParams","$scope","$rootScope","$state","SalesOrder","$window","$localStorage","notifications","createChangeStream","LiveSet","LoopBackAuth",function(e,t,r,s,o,a,d,i,n,u,l){var c,m=new EventSource(r.APP.apiUrl+"/SalesOrders/change-stream?_format=event-stream&access_token="+l.accessTokenId),p=n(m);o.find({filter:{where:{or:[{id:e.id},{TxnID:e.TxnID}]}}}).$promise.then(function(e){c=new u(e,p),t.salesOrders=c.toLiveArray()})}]).controller("SalesOrderController",["$stateParams","$scope","$rootScope","$state","SalesOrder","$window","$localStorage","notifications","createChangeStream","LiveSet","LoopBackAuth",function(e,t,r,s,o,a,d,i,n,u,l){t.$watch("salesOrder.billAddressLines",function(e){e&&e.forEach(function(e,r){t.salesOrder.BillAddress["Addr"+(r+1)]=e})}),t.$watch("salesOrder.CustomerRef.ListID",function(e,s){if(e){var o=r.customersAndJobs.filter(function(t){return t.ListID==e})[0];s&&s!==e&&t.salesOrder&&(t.salesOrder.BillAddress=o.BillAddress,t.salesOrder.ShipAddress=o.ShipAddress,t.salesOrder.SalesRepRef=o.SalesRepRef)}}),t.$watch("salesOrder.ShipAddress",function(e){e&&(t.salesOrder.shipAddressLines=[],e.Addr1&&(t.salesOrder.shipAddressLines[0]=e.Addr1),e.Addr2&&(t.salesOrder.shipAddressLines[1]=e.Addr2),e.Addr3&&(t.salesOrder.shipAddressLines[2]=e.Addr3),e.Addr4&&(t.salesOrder.shipAddressLines[3]=e.Addr4),e.Addr5&&(t.salesOrder.shipAddressLines[4]=e.Addr5))}),t.$watch("salesOrder.BillAddress",function(e){e&&(t.salesOrder.billAddressLines=[],e.Addr1&&(t.salesOrder.billAddressLines[0]=e.Addr1),e.Addr2&&(t.salesOrder.billAddressLines[1]=e.Addr2),e.Addr3&&(t.salesOrder.billAddressLines[2]=e.Addr3),e.Addr4&&(t.salesOrder.billAddressLines[3]=e.Addr4),e.Addr5&&(t.salesOrder.billAddressLines[4]=e.Addr5))}),t.addNewLineItem=function(){var e={ItemRef:{FullName:""},TxnLineID:"-1",Quantity:1};t.salesOrder.SalesOrderLineMod||(t.salesOrder.SalesOrderLineMod=[]),t.salesOrder.SalesOrderLineMod.push(e)},t.removeLineItem=function(e){t.salesOrder.SalesOrderLineMod.splice(e,1)},t.$watch("salesOrder.SalesOrderLineMod",function(e){e&&e.forEach(function(e){console.log(e)})}),t.save=function(e){t.isSavingRecord=!0,e.$save(function(e,r){t.isSavingRecord=!1,s.reload()})}}]).controller("SalesOrderLineItemController",["$scope","$filter","$rootScope",function(e,t,r){e.$watch("record.Quantity",function(r){e.record.Amount=t("number")(e.record.Rate*r,2),e.salesOrder.Subtotal=0,e.salesOrder.SalesOrderLineMod.forEach(function(t){e.salesOrder.Subtotal+=parseFloat(t.Amount.split(",").join(""))})}),e.$watch("record.Rate",function(r){e.record.Amount=t("number")(r*e.record.Quantity,2),e.salesOrder.Subtotal=0,e.salesOrder.SalesOrderLineMod.forEach(function(t){e.salesOrder.Subtotal+=parseFloat(t.Amount.split(",").join(""))})})}]).controller("SalesOrdersCtrl",["$scope","$rootScope","$mdDialog","$mdSidenav","$stateParams","$localStorage","SalesOrder","createChangeStream","LiveSet","LoopBackAuth","$state",function(e,t,r,s,o,a,d,i,n,u,l){var c,m=new EventSource(t.APP.apiUrl+"/SalesOrders/change-stream?_format=event-stream&access_token="+u.accessTokenId),p=i(m);e.$watch("query.page",function(t,r){e.query.skip=e.query.limit*(t-1)}),e.totalRecords=d.count(),t.records=[],e.today=new Date,e.getRecords=function(){d.find({filter:e.query}).$promise.then(function(t){c=new n(t,p),e.salesOrders=c.toLiveArray()})},e.newRecord=function(e){e=e||{},t.prevState=a.prevState={name:l.current.name,params:o},d.create(e,function(e){l.go("root.app.salesOrder",{id:e.id})})},e.searchProperties=["TotalAmount"],e.searchProperty="TotalAmount",e.query={order:"TotalAmount",limit:10,page:1,skip:0},e.limitOptions=[10,50,100,{label:"All",value:function(){return e.totalRecords}}]}]),angular.module("cnsSteelSales").controller("ItemsInventoryCtrl",["$scope","$rootScope","$mdDialog","$mdSidenav","ItemInventory",function(e,t,r,s,o){t.modelName="item-inventory",t.disableSaveAction=!0,t.Model=o,e.totalRecords=o.count(),t.records=[],e.getRecords=function(){e.query.offset=(e.query.page-1)*e.query.limit,e.promise=o.find({filter:e.query}).$promise.then(function(e){t.records=e})},e.searchProperties=["FullName"],e.searchProperty="FullName",e.query={order:"FullName",limit:10,page:1},e.limitOptions=[10,50,100,{label:"All",value:function(){return e.totalRecords}}]}]),angular.module("cnsSteelSales").controller("ItemsNonInventoryCtrl",["$scope","$rootScope","$mdDialog","$mdSidenav","ItemNonInventory",function(e,t,r,s,o){t.modelName="item-non-inventory",t.disableSaveAction=!0,t.Model=o,e.totalRecords=o.count(),t.records=[],e.getRecords=function(){e.query.offset=(e.query.page-1)*e.query.limit,e.promise=o.find({filter:e.query}).$promise.then(function(e){t.records=e})},e.searchProperties=["FullName"],e.searchProperty="FullName",e.query={order:"FullName",limit:10,page:1},e.limitOptions=[10,50,100,{label:"All",value:function(){return e.totalRecords}}]}]),angular.module("cnsSteelSales").controller("ItemsCtrl",function(){}),angular.module("cnsSteelSales").controller("ApplicationCtrl",["$scope","$timeout","$rootScope","$mdSidenav","$mdDialog","$mdUtil","AuthService","LoopBackAuth","$state","Customer","QuickBooks","SalesRep","JobType","CustomerType","ItemNonInventory","ItemInventory","CustomerMsg","ItemSalesTax","$window","$localStorage","ShipMethod",function(e,t,r,s,o,a,d,i,n,u,l,c,m,p,h,T,y,S,f,O,I){function A(e){return e=+e,isNaN(e)?NaN:(e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+2:2))),e=e.toString().split("e"),(+(e[0]+"e"+(e[1]?+e[1]-2:-2))).toFixed(2))}function P(e){var t=angular.lowercase(e);return function(e){return 0===angular.lowercase(e.FullName).indexOf(t)}}r.salesReps=c.find(),r.customerTypes=p.find(),r.customerMessages=y.find(),r.salesTaxCodes=S.find(),r.jobTypes=m.find(),r.shipMethods=I.find(),r.customersAndJobs=u.find(),r.items=[],h.find(function(e){e.forEach(function(e){r.items.push(e)})}),T.find(function(e){e.forEach(function(e){r.items.push(e)})}),r.itemQuerySearch=function(t){return t?r.items.filter(P(t)):e.items},r.estimateLineItemChanged=function(e,t){r.activeRecord.EstimateLineMod[t].UnitOfMeasure=e.UnitOfMeasureSetRef&&e.UnitOfMeasureSetRef.FullName,r.activeRecord.EstimateLineMod[t].OverrideUOMSetRef=e.UnitOfMeasureSetRef,r.activeRecord.EstimateLineMod[t].Rate=e.SalesPrice||e.SalesOrPurchase.Price,r.activeRecord.EstimateLineMod[t].Amount=A(parseFloat(e.SalesPrice)*parseInt(r.activeRecord.EstimateLineMod[t].Quantity))},r.salesOrderLineItemChanged=function(e,t){r.activeRecord.SalesOrderLineMod[t].UnitOfMeasure=e.UnitOfMeasureSetRef&&e.UnitOfMeasureSetRef.FullName,r.activeRecord.SalesOrderLineMod[t].OverrideUOMSetRef=e.UnitOfMeasureSetRef,r.activeRecord.SalesOrderLineMod[t].Rate=e.SalesPrice||e.SalesOrPurchase.Price,r.activeRecord.SalesOrderLineMod[t].Amount=A(parseFloat(e.SalesPrice)*parseInt(r.activeRecord.EstimateLineMod[t].Quantity))},e.logout=function(){d.logout(i.accessTokenId)},e.reSync=function(){e.isSyncing=!0,l.reSync(),t(function(){e.isSyncing=!1,n.reload()},6e4)},e.$on("$stateChangeStart",function(){var e=angular.element(document.querySelector("#app-content"));e.scrollTop=0,s("left").close()}),e.openSideNav=function(e){a.debounce(function(){s(e)&&s(e).toggle()},500)()},e.openReportIssue=function(){o.show({preserveScope:!0,clickOutsideToClose:!0,templateUrl:"views/components/report-issue.html",controller:["$scope","$mdDialog","Issue","$location",function(e,t,s,o){e.showIssueExample=!1,e.closeWizard=function(){t.hide()},e.issue={user:r.currentUser.id,status:"open",url:o.url()},e.reportIssue=function(){s.create(e.issue).then(function(e){t.hide(),notifications.showInfo("Thank you for your feedback.")})}}]})},e.isMenuLocked=!0,e.isMenuCollapsing=!1,e.isHovering=!1,e.activateHover=function(){e.isHovering=!0},e.removeHover=function(){e.isHovering=!1},e.toggleMenuLock=function(){e.isMenuLocked=!e.isMenuLocked,e.isMenuCollapsing=!e.isMenuLocked,e.isMenuCollapsing===!0&&(e.isHovering=!1,t(function(){e.isMenuCollapsing=!1},400))},e.menuClass=function(){return e.isMenuLocked===!0?"":e.isMenuCollapsing===!0?"is-collapsing":1==e.isHovering?"admin-sidebar-collapsed hover":"admin-sidebar-collapsed";
},e.menu=[{name:"Dashboard",icon:"fa fa-tachometer",type:"link",state:"root.app.dashboard",priority:1},{name:"Customers",icon:"fa fa-users",type:"link",state:"root.app.customers",priority:2},{name:"Items",icon:"fa fa-sitemap",type:"dropdown",state:"root.app.items",priority:2,children:[{name:"Inventory",icon:"fa fa-chain",type:"link",state:"root.app.items.inventory",priority:2},{name:"Non Inventory",icon:"fa fa-chain-broken",type:"link",state:"root.app.items.nonInventory",priority:2}]},{name:"Estimates",icon:"fa fa-quote-right",type:"link",state:"root.app.estimates",priority:2},{name:"Sales Orders",icon:"fa fa-balance-scale",type:"link",state:"root.app.salesOrders",priority:2}],r.goBack=function(){f.history.back(),O.prevState=null},r.prevState=O.prevState}]),angular.module("cnsSteelSales").controller("DashboardCtrl",["$scope",function(e){}]);